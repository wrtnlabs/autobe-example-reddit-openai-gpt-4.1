import { tags } from "typia";

/**
 * Membership record representing a user's participation in a specific
 * community. Relates to join/leave flows, analytics, and feed personalization.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type ICommunityPlatformCommunityMembership = {
  /**
   * Unique identifier for this membership record. Generated by the system
   * when a user joins a community.
   */
  id: string & tags.Format<"uuid">;

  /**
   * ID of the community this membership belongs to. References
   * 'community_platform_communities.id'. Determines which community the user
   * has joined.
   */
  community_id: string & tags.Format<"uuid">;

  /**
   * ID of the member user associated with this membership. References
   * 'community_platform_memberusers.id'. Identifies the user who is a member
   * of the community.
   */
  memberuser_id: string & tags.Format<"uuid">;

  /**
   * Timestamp reflecting when the user joined the community. Used for recency
   * ranking, analytics, and business logic.
   */
  joined_at: string & tags.Format<"date-time">;
};
export namespace ICommunityPlatformCommunityMembership {
  /**
   * Search/filter request for paginating or filtering community memberships.
   * Each property provides criteria for finding memberships matching specific
   * users or time intervals. Used in admin panels, user profile history, or
   * analytics views.
   */
  export type IRequest = {
    /**
     * Optional filter: Member user's UUID. When provided, restricts the
     * search to memberships belonging only to this user. Used for personal
     * membership queries and admin dashboards.
     */
    memberuser_id?: (string & tags.Format<"uuid">) | undefined;

    /**
     * Optional filter: Include only memberships with 'joined_at' greater
     * than or equal to this timestamp. Used for time range filtering in
     * queries.
     */
    joined_at_from?: (string & tags.Format<"date-time">) | undefined;

    /**
     * Optional filter: Include only memberships with 'joined_at' less than
     * or equal to this timestamp.
     */
    joined_at_to?: (string & tags.Format<"date-time">) | undefined;

    /** Optional pagination: 1-based page number for result pagination. */
    page?: (number & tags.Type<"int32">) | undefined;

    /**
     * Optional maximum number of records to return in a single page of
     * results. Typical defaults are 20 or as defined by platform
     * standards.
     */
    limit?: (number & tags.Type<"int32">) | undefined;
  };

  /**
   * Request to create a membership record (join a community). No fields are
   * accepted in the request body because the authenticated user is determined
   * from the session context, not provided by the client. Creation will fail
   * if the user is already a member.
   */
  export type ICreate = {};

  /**
   * Update request for a membership record. Only the 'joined_at' field is
   * mutable for audit- or correction-related updates. Membership and
   * community IDs are immutable.
   */
  export type IUpdate = {
    /**
     * The new timestamp to update the 'joined_at' value for this
     * membership. Used to correct or reassign join time for audit/analytics
     * purposes. Business rules restrict updating only to admins or the
     * owner.
     */
    joined_at?: (string & tags.Format<"date-time">) | undefined;
  };

  /**
   * Summary information of a user's membership to a community. Used mostly
   * for member lists, recent activities, and UI context. Derived from the
   * community_platform_community_memberships entity. Contains only
   * non-sensitive identifiers and join timing.
   */
  export type ISummary = {
    /**
     * Unique membership record identifier. Maps to
     * community_platform_community_memberships.id in the schema. Used as
     * the primary key when referencing a specific membership entry.
     */
    id: string & tags.Format<"uuid">;

    /**
     * The ID of the related community. Maps to
     * community_platform_community_memberships.community_id. Required to
     * know which community this membership is attached to.
     */
    community_id: string & tags.Format<"uuid">;

    /**
     * The ID of the user who is a member of the community. Maps to
     * community_platform_community_memberships.memberuser_id. Serves as the
     * join link between the member and the community. Required for
     * join/leave workflows.
     */
    memberuser_id: string & tags.Format<"uuid">;

    /**
     * The date and time the user became a member of the community. Maps to
     * community_platform_community_memberships.joined_at. ISO8601 format.
     */
    joined_at: string & tags.Format<"date-time">;
  };
}
